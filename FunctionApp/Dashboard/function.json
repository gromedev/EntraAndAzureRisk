{
  "bindings": [
    {
      "authLevel": "function",
      "type": "httpTrigger",
      "direction": "in",
      "name": "Request",
      "methods": [ "get" ],
      "route": "dashboard"
    },
    {
      "type": "http",
      "direction": "out",
      "name": "Response"
    },
    {
      "name": "usersIn",
      "type": "cosmosDB",
      "direction": "in",
      "databaseName": "EntraData",
      "containerName": "principals",
      "connection": "CosmosDbConnectionString",
      "sqlQuery": "SELECT * FROM c WHERE c.principalType = 'user' AND (NOT IS_DEFINED(c.deleted) OR c.deleted = false)"
    },
    {
      "name": "groupsIn",
      "type": "cosmosDB",
      "direction": "in",
      "databaseName": "EntraData",
      "containerName": "principals",
      "connection": "CosmosDbConnectionString",
      "sqlQuery": "SELECT * FROM c WHERE c.principalType = 'group' AND (NOT IS_DEFINED(c.deleted) OR c.deleted = false)"
    },
    {
      "name": "servicePrincipalsIn",
      "type": "cosmosDB",
      "direction": "in",
      "databaseName": "EntraData",
      "containerName": "principals",
      "connection": "CosmosDbConnectionString",
      "sqlQuery": "SELECT * FROM c WHERE c.principalType = 'servicePrincipal' AND (NOT IS_DEFINED(c.deleted) OR c.deleted = false)"
    },
    {
      "name": "devicesIn",
      "type": "cosmosDB",
      "direction": "in",
      "databaseName": "EntraData",
      "containerName": "principals",
      "connection": "CosmosDbConnectionString",
      "sqlQuery": "SELECT * FROM c WHERE c.principalType = 'device' AND (NOT IS_DEFINED(c.deleted) OR c.deleted = false)"
    },
    {
      "name": "applicationsIn",
      "type": "cosmosDB",
      "direction": "in",
      "databaseName": "EntraData",
      "containerName": "principals",
      "connection": "CosmosDbConnectionString",
      "sqlQuery": "SELECT * FROM c WHERE c.principalType = 'application' AND (NOT IS_DEFINED(c.deleted) OR c.deleted = false)"
    },
    {
      "name": "relationshipsIn",
      "type": "cosmosDB",
      "direction": "in",
      "databaseName": "EntraData",
      "containerName": "relationships",
      "connection": "CosmosDbConnectionString",
      "sqlQuery": "SELECT * FROM c WHERE (NOT IS_DEFINED(c.deleted) OR c.deleted = false)"
    },
    {
      "name": "policiesIn",
      "type": "cosmosDB",
      "direction": "in",
      "databaseName": "EntraData",
      "containerName": "policies",
      "connection": "CosmosDbConnectionString",
      "sqlQuery": "SELECT * FROM c WHERE (NOT IS_DEFINED(c.deleted) OR c.deleted = false)"
    },
    {
      "name": "eventsIn",
      "type": "cosmosDB",
      "direction": "in",
      "databaseName": "EntraData",
      "containerName": "events",
      "connection": "CosmosDbConnectionString",
      "sqlQuery": "SELECT TOP 500 * FROM c ORDER BY c.createdDateTime DESC"
    },
    {
      "name": "changesIn",
      "type": "cosmosDB",
      "direction": "in",
      "databaseName": "EntraData",
      "containerName": "changes",
      "connection": "CosmosDbConnectionString",
      "sqlQuery": "SELECT TOP 200 * FROM c ORDER BY c.changeDate DESC"
    },
    {
      "name": "rolesIn",
      "type": "cosmosDB",
      "direction": "in",
      "databaseName": "EntraData",
      "containerName": "roles",
      "connection": "CosmosDbConnectionString",
      "sqlQuery": "SELECT * FROM c"
    },
    {
      "name": "azureResourcesIn",
      "type": "cosmosDB",
      "direction": "in",
      "databaseName": "EntraData",
      "containerName": "azureResources",
      "connection": "CosmosDbConnectionString",
      "sqlQuery": "SELECT * FROM c"
    },
    {
      "name": "azureRelationshipsIn",
      "type": "cosmosDB",
      "direction": "in",
      "databaseName": "EntraData",
      "containerName": "azureRelationships",
      "connection": "CosmosDbConnectionString",
      "sqlQuery": "SELECT * FROM c"
    }
  ]
}
