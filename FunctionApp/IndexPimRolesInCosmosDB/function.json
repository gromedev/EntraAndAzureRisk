{
  "bindings": [
    {
      "name": "ActivityInput",
      "type": "activityTrigger",
      "direction": "in"
    },
    {
      "name": "pimRolesRawOut",
      "type": "cosmosDB",
      "direction": "out",
      "databaseName": "EntraData",
      "containerName": "entra_pim_roles_raw",
      "connection": "CosmosDbConnectionString",
      "createIfNotExists": false,
      "partitionKey": "/objectId"
    },
    {
      "name": "pimRoleChangesOut",
      "type": "cosmosDB",
      "direction": "out",
      "databaseName": "EntraData",
      "containerName": "entra_pim_role_changes",
      "connection": "CosmosDbConnectionString",
      "createIfNotExists": false,
      "partitionKey": "/snapshotId"
    },
    {
      "name": "snapshotsOut",
      "type": "cosmosDB",
      "direction": "out",
      "databaseName": "EntraData",
      "containerName": "snapshots",
      "connection": "CosmosDbConnectionString",
      "createIfNotExists": false,
      "partitionKey": "/id"
    },
    {
      "name": "pimRolesRawIn",
      "type": "cosmosDB",
      "direction": "in",
      "databaseName": "EntraData",
      "containerName": "entra_pim_roles_raw",
      "connection": "CosmosDbConnectionString",
      "sqlQuery": "SELECT c.objectId, c.assignmentType, c.principalId, c.roleDefinitionId, c.roleDefinitionName, c.roleTemplateId, c.principalDisplayName, c.principalType, c.memberType, c.status, c.scheduleInfo, c.createdDateTime, c.modifiedDateTime, c.lastModified, c.deleted FROM c"
    }
  ]
}
