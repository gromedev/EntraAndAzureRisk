{
  "bindings": [
    {
      "name": "ActivityInput",
      "type": "activityTrigger",
      "direction": "in"
    },
    {
      "name": "edgesRawOut",
      "type": "cosmosDB",
      "direction": "out",
      "databaseName": "EntraData",
      "containerName": "edges",
      "connection": "CosmosDbConnectionString",
      "createIfNotExists": false,
      "partitionKey": "/edgeType"
    },
    {
      "name": "edgeChangesOut",
      "type": "cosmosDB",
      "direction": "out",
      "databaseName": "EntraData",
      "containerName": "audit",
      "connection": "CosmosDbConnectionString",
      "createIfNotExists": false,
      "partitionKey": "/auditDate"
    },
    {
      "name": "edgesRawIn",
      "type": "cosmosDB",
      "direction": "in",
      "databaseName": "EntraData",
      "containerName": "edges",
      "connection": "CosmosDbConnectionString",
      "sqlQuery": "SELECT c.id, c.objectId, c.sourceId, c.edgeType, c.sourceType, c.sourceDisplayName, c.targetId, c.targetType, c.targetDisplayName, c.deleted, c.sourceUserPrincipalName, c.sourceAccountEnabled, c.sourceUserType, c.sourceAppId, c.sourceServicePrincipalType, c.sourceSecurityEnabled, c.targetSecurityEnabled, c.targetMailEnabled, c.targetVisibility, c.targetIsAssignableToRole, c.targetRoleTemplateId, c.targetIsPrivileged, c.targetIsBuiltIn, c.targetRoleDefinitionId, c.targetRoleDefinitionName, c.scope, c.scopeType, c.scopeDisplayName, c.membershipType, c.inheritancePath, c.inheritanceDepth, c.assignmentType, c.memberType, c.status, c.scheduleInfo, c.appRoleId, c.appRoleDisplayName, c.resourceId, c.resourceDisplayName, c.consentType, c.permissionScope, c.effectiveFrom, c.effectiveTo, c.lastModified FROM c"
    }
  ]
}
